const _0x184bef=_0xf571;(function(_0x595a93,_0x5eace2){const _0x530bac=_0xf571,_0x235489=_0x595a93();while(!![]){try{const _0x28bd51=parseInt(_0x530bac(0xc7))/0x1*(parseInt(_0x530bac(0xb3))/0x2)+parseInt(_0x530bac(0xbf))/0x3+parseInt(_0x530bac(0xca))/0x4*(-parseInt(_0x530bac(0xbb))/0x5)+parseInt(_0x530bac(0xbe))/0x6+parseInt(_0x530bac(0xa8))/0x7*(-parseInt(_0x530bac(0xb0))/0x8)+parseInt(_0x530bac(0xaf))/0x9*(parseInt(_0x530bac(0xb8))/0xa)+parseInt(_0x530bac(0xb1))/0xb;if(_0x28bd51===_0x5eace2)break;else _0x235489['push'](_0x235489['shift']());}catch(_0x25a0a8){_0x235489['push'](_0x235489['shift']());}}}(_0x7108,0x3ea77));const fs=require('fs'),path=require(_0x184bef(0xa6)),express=require(_0x184bef(0xc5)),{google}=require(_0x184bef(0xad)),credentials=JSON[_0x184bef(0xa1)](fs['readFileSync'](path['resolve'](__dirname,_0x184bef(0xac)))),SCOPES=[_0x184bef(0xb9),_0x184bef(0xb6)],TOKEN_PATH=path['join'](__dirname,_0x184bef(0xc6)),{client_secret,client_id,redirect_uris}=credentials[_0x184bef(0xba)],oAuth2Client=new google['auth']['OAuth2'](client_id,client_secret,redirect_uris[0x0]);function _0xf571(_0x3811d4,_0x4a06f7){const _0x710859=_0x7108();return _0xf571=function(_0xf57118,_0x39d6b9){_0xf57118=_0xf57118-0xa1;let _0x4c4db5=_0x710859[_0xf57118];return _0x4c4db5;},_0xf571(_0x3811d4,_0x4a06f7);}function _0x7108(){const _0xe67c64=['exports','10qECDYT','https://www.googleapis.com/auth/gmail.send','installed','748535hqaUmR','get','/oauth2callback','2023740TlOKtj','968064NXueTc','getToken','generateAuthUrl','status','writeFileSync','error','express','../../../config/token.js','13205wkYBXD','offline','readFileSync','12xUpZzj','parse','code','Authentication\x20failed','send','log','path','Listening\x20on\x20port\x203000\x20for\x20OAuth2\x20callback','2802562YjzMpy','query','Authentication\x20successful!\x20You\x20can\x20close\x20this\x20window.','listen','../../../config/config.js','googleapis','Authorize\x20this\x20app\x20by\x20visiting\x20this\x20url:','1486422YvFBQx','8YPalSp','185702KUMLyq','close','40jBLKtw','stringify','setCredentials','https://www.googleapis.com/auth/gmail.readonly'];_0x7108=function(){return _0xe67c64;};return _0x7108();}function getAccessToken(){return new Promise((_0x36dd8b,_0x3392be)=>{const _0x45c184=_0xf571,_0x46609f=oAuth2Client[_0x45c184(0xc1)]({'access_type':_0x45c184(0xc8),'scope':SCOPES});console[_0x45c184(0xa5)](_0x45c184(0xae),_0x46609f);const _0x37ac71=express();_0x37ac71[_0x45c184(0xbc)](_0x45c184(0xbd),(_0x3dbdae,_0x3fc12b)=>{const _0x55f564=_0x45c184,_0x57b6fe=_0x3dbdae[_0x55f564(0xa9)][_0x55f564(0xa2)];oAuth2Client[_0x55f564(0xc0)](_0x57b6fe,(_0x5d42fa,_0x1cf07f)=>{const _0x5e9107=_0x55f564;if(_0x5d42fa)return console[_0x5e9107(0xc4)]('Error\x20retrieving\x20access\x20token',_0x5d42fa),_0x3fc12b[_0x5e9107(0xc2)](0x1f4)[_0x5e9107(0xa4)](_0x5e9107(0xa3)),_0x3392be(_0x5d42fa);oAuth2Client['setCredentials'](_0x1cf07f),fs[_0x5e9107(0xc3)](TOKEN_PATH,JSON[_0x5e9107(0xb4)](_0x1cf07f)),_0x3fc12b[_0x5e9107(0xa4)](_0x5e9107(0xaa)),_0x36dd8b(oAuth2Client),_0x5199dd[_0x5e9107(0xb2)]();});});const _0x5199dd=_0x37ac71[_0x45c184(0xab)](0xbb8,()=>{const _0x8099b2=_0x45c184;console[_0x8099b2(0xa5)](_0x8099b2(0xa7));});});}async function authorize(){const _0x5e2e13=_0x184bef;try{const _0x3a9d12=JSON[_0x5e2e13(0xa1)](fs[_0x5e2e13(0xc9)](TOKEN_PATH));return oAuth2Client[_0x5e2e13(0xb5)](_0x3a9d12),oAuth2Client;}catch(_0x13de93){return await getAccessToken();}}module[_0x184bef(0xb7)]={'authorize':authorize};
